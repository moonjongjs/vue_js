<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>json Parse</title>
</head>
<body>
    <button>JSON AJAX 로컬읽기</button>
    <script>
        let $btn = document.querySelector('button');
            $btn.onclick = function(){
                // fetch('./data/data.json')
                //   //.then( (res) => res.json())    // 리턴생략 가능 한줄표현
                //     .then(function(res){                        
                //         console.log('res.type ', res.type );
                //         console.log('res.url ', res.url );
                //         console.log('res.redirected ', res.redirected );
                //         console.log('res.status ', res.status );
                //         console.log('res.status ', res.statusText );
                //         console.log('res.ok ', res.ok );
                //         console.log('res ', res );
                //        if(res.ok === true){
                //             console.log('res.ok ', res.ok );
                //             return res.json();
                //        }
                //        else{
                //             console.log('res.ok ', res.ok );
                //             console.log('프로미스(비동기 전송방식 AJAX) 실패');
                //        }
                //     })
                //     .then(function(data){
                //         data.item.forEach(function(el,idx){
                //             console.log(idx,el);
                //         });
                //     })

                
                    fetch('./data/data.json')
                        .then(function(res){
                            if(res.ok){
                                console.log(res.ok);
                                return res.json();
                            }
                            else{
                                console.log(res.ok);
                                alert('AJAX 실패!!!');
                            }
                        })
                        .then(function(json){
                            json.item.forEach(function(el, idx){
                                console.log(idx, el);
                            });
                        })


            }

    </script>

</body>
</html>